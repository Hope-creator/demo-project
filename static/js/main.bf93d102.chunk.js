/*! For license information please see main.bf93d102.chunk.js.LICENSE.txt */
(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{13:function(e,t,n){e.exports={nav:"Navbar_nav__1_XmS",item:"Navbar_item__3rLzP",active:"Navbar_active__25hBn"}},14:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var a=function(e){return e?void 0:"Required"},r=function(e){return function(t){return t&&t.length>e?"Max length is ".concat(e," symbols "):void 0}},o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return t||n(e)}),void 0)}}},21:function(e,t,n){e.exports={flexWrapper:"Users_flexWrapper__eetSC",usersItem:"Users_usersItem__1Ipom",profilePic:"Users_profilePic__2o2mf",mediaHeader:"Users_mediaHeader__3m6--",mediaHeaderBody:"Users_mediaHeaderBody__mZs1w",mediaBody:"Users_mediaBody__255Q5",mediaFooter:"Users_mediaFooter__KfAy6",usersIcon:"Users_usersIcon__2QA0l",footerPages:"Users_footerPages__32Sk-",selectedPage:"Users_selectedPage__2oUCE"}},22:function(e,t,n){e.exports={profileBlock:"ProfileInfo_profileBlock___PXrz",profile_picture:"ProfileInfo_profile_picture__2hYhU",profileHeaderBlock:"ProfileInfo_profileHeaderBlock__36Q52",profileFooterBlock:"ProfileInfo_profileFooterBlock__2XCs8",contactBlock:"ProfileInfo_contactBlock__2hP1A",profileBodyBlock:"ProfileInfo_profileBodyBlock__2r28R",profileFooterShow:"ProfileInfo_profileFooterShow__3ZWH0"}},26:function(e,t,n){e.exports={post_area:"MyPosts_post_area__3-V_w",postsWrapper:"MyPosts_postsWrapper__2dVkF",posts:"MyPosts_posts__3VYO5"}},27:function(e,t,n){e.exports={header:"Header_header__3xgLl",header_link:"Header_header_link__39wSB",header_features:"Header_header_features__Ll6qj",loginBlock:"Header_loginBlock__2hVIJ"}},28:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));n(0);var a=n(35),r=(n(93),Object(a.a)("textarea")),o=Object(a.a)("input")},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(61),r=n(0),o=n.n(r),s=n(43),u=n.n(s),c=function(e){return function(t){var n=t.input,r=t.meta,s=Object(a.a)(t,["input","meta"]);return o.a.createElement("div",{className:u.a.formControl},o.a.createElement(e,Object.assign({},n,s,{className:r.error&&r.touched&&u.a.error})),r.submitError&&o.a.createElement("span",null,r.submitError),r.error&&r.touched&&o.a.createElement("span",null,r.error))}}},36:function(e,t,n){e.exports={profileFooterShow:"ProfileStatus_profileFooterShow__2r9_H"}},37:function(e,t,n){e.exports={content:"Profile_content__2c3nq",profileInfo:"Profile_profileInfo__3lV9b",profileContent:"Profile_profileContent__3CJR4"}},41:function(e,t,n){e.exports={selectedPage:"Paginator_selectedPage__21e43"}},43:function(e,t,n){e.exports={formControl:"Forms_formControl__Er5Qc",error:"Forms_error__3HaSl"}},54:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(25),r=n(2),o="ADD-MESSAGE",s={dialogsMessages:[{id:1,message:"Hi"},{id:2,message:"Yo, how are you"},{id:3,message:"Hi honey, call me when you wake up."},{id:4,message:"Uo"},{id:5,message:"Yo"}],newDialogMessage:"",dialogsItems:[{id:1,name:"Dima",media_src:"https://whatsism.com/uploads/posts/2018-07/1530546770_rmk_vdjbx10.jpg"},{id:2,name:"Andrey",media_src:"https://sun9-31.userapi.com/impf/c624326/v624326383/2db4c/GI9yLp0GMgo.jpg?size=200x0&quality=90&crop=0,0,604,604&sign=0342799ecbe9a287ae8806f6c3afe9f3&ava=1"},{id:3,name:"Sasha",media_src:"https://www.meme-arsenal.com/memes/33b0915267e6cc40327a7a780bb64923.jpg"},{id:4,name:"Valeriy",media_src:"https://archilab.online/images/1/123.jpg"},{id:5,name:"Sveta",media_src:"https://klike.net/uploads/posts/2019-03/1551511862_28.jpg"}]},u=function(e){return{type:o,message:e}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return Object(r.a)(Object(r.a)({},e),{},{dialogsMessages:[].concat(Object(a.a)(e.dialogsMessages),[{id:5,message:t.message}])});default:return e}}},57:function(e,t,n){e.exports={ldsRing:"Preloader_ldsRing__HYS7K","lds-ring":"Preloader_lds-ring__2I5T3"}},59:function(e,t,n){e.exports={item:"Post_item__OFTO5"}},66:function(e,t,n){},67:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},93:function(e,t,n){e.exports={formControl:"FormContol_formControl__3r3uN",error:"FormContol_error__1Iqbw"}},94:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(32),s=n.n(o);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(66);var u=n(15),c=n(16),l=n(18),i=n(17),f=(n(67),n(6)),p=n(13),m=n.n(p),d=function(){return r.a.createElement("nav",{className:m.a.nav},r.a.createElement("ul",null,r.a.createElement("li",{className:m.a.item},r.a.createElement(f.b,{to:"/profile",activeClassName:m.a.active},"Profile")),r.a.createElement("li",{className:m.a.item},r.a.createElement(f.b,{to:"/dialogs",activeClassName:m.a.active},"Messages")),r.a.createElement("li",{className:m.a.item},r.a.createElement(f.b,{to:"/news",activeClassName:m.a.active},"News")),r.a.createElement("li",{className:m.a.item},r.a.createElement(f.b,{to:"/music",activeClassName:m.a.active},"Music")),r.a.createElement("li",{className:m.a.item},r.a.createElement(f.b,{to:"/users",activeClassName:m.a.active},"Users"))))},g=n(4),h=(n(72),function(){return r.a.createElement("div",null,"News")}),E=(n(73),function(){return r.a.createElement("div",null,"Music")}),b=n(31),v=n(41),_=n.n(v),w=function(e){for(var t=e.totalUsersCount,n=e.currentPage,o=e.onPageChange,s=e.pageSize,u=e.portionSize,c=Math.ceil(t/s),l=[],i=Object(a.useState)(1),f=Object(b.a)(i,2),p=f[0],m=f[1],d=Math.ceil(c/u),g=(p-1)*u+1,h=p*u,E=1;E<=c;E++)l.push(E);return r.a.createElement("div",{className:_.a.footerPages},p>1&&r.a.createElement("button",{onClick:function(){return m(p-1)}},"Left"),l.filter((function(e){return e>=g&&e<=h})).map((function(e){return r.a.createElement("span",{className:n===e&&_.a.selectedPage,onClick:function(t){return o(e)}},e)})),p<d&&r.a.createElement("button",{onClick:function(){return m(p+1)}},"Right"))},O=n(21),P=n.n(O),j=function(e){return r.a.createElement("div",{className:P.a.flexWrapper},e.users.map((function(t,n,a){return r.a.createElement("div",{key:t.id,className:P.a.usersItem},r.a.createElement("div",{className:P.a.mediaHeader},r.a.createElement(f.b,{to:"/profile/"+t.id},r.a.createElement("img",{className:P.a.profilePic,src:null!=t.photos.small?t.photos.small:"data:image/png;base64,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"})),r.a.createElement("div",{className:P.a.mediaHeaderBody}," ",r.a.createElement("h4",null,t.name),r.a.createElement("span",null,"F: ",a.length),r.a.createElement("span",null,"P: 0 "),r.a.createElement("span",null,"V: 0 ")," ")),r.a.createElement("div",{className:P.a.mediaBody},r.a.createElement("span",null,"Status"),r.a.createElement("div",null,r.a.createElement("span",{key:t.id}," ",null!=t.status?t.status:"Status is not taken by "," "))),r.a.createElement("div",{className:P.a.mediaFooter},t.followed?r.a.createElement("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.unfollow(t.id)}},"Unfollow"):r.a.createElement("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.follow(t.id)}},"Follow")))})))},y=function(e){return r.a.createElement("div",null,"learn react",r.a.createElement(j,{users:e.users,followingInProgress:e.followingInProgress,unfollow:e.unfollow,follow:e.follow}),r.a.createElement(w,{totalUsersCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,onPageChange:e.onPageChange,portionSize:10}))},S=n(9),k=n(3),N=n.n(k),C=n(7),A=n(25),I=n(2),F=n(56),z=(n(23),"social-network/auth/SET_USER_DATA"),x="AUTH_LOGIN",M="AUTH_FAILED",T={id:null,login:null,email:null,isAuth:!1,authErrorMessage:null},B=function(e,t,n,a){return{type:z,payload:{id:e,login:t,email:n,isAuth:a}}},U=function(e){return{type:M,errorMessage:e}},D=function(){return function(){var e=Object(C.a)(N.a.mark((function e(t){var n,a,r,o,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.getAuth();case 2:0===(n=e.sent).data.resultCode&&(a=n.data.data,r=a.id,o=a.login,s=a.email,t(B(r,o,s,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return Object(I.a)(Object(I.a)({},e),t.payload);case x:return Object(I.a)(Object(I.a)({},e),{},{isAuth:t.isAuth});case M:return Object(I.a)(Object(I.a)({},e),{},{authErrorMessage:t.errorMessage});default:return e}},L=F.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"65bb7cc5-8d1c-4595-8583-4a11bfe95341"}}),X={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return L.get("users?page=".concat(e,"&count=").concat(t))},follow:function(e){return L.post("follow/".concat(e))},unfollow:function(e){return L.delete("follow/".concat(e))}},W={getAuth:function(){return L.get("auth/me")},authLogin:function(e,t){return L.post("auth/login",{email:e,password:t})},authLogout:function(){return L.delete("auth/login")}},G={getProfile:function(e){return L.get("profile/".concat(e))},getStatus:function(e){return L.get("profile/status/".concat(e))},updateStatus:function(){var e=Object(C.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L.put("profile/status",{status:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},V=function(e,t,n,a){return e.map((function(e){return e[t]===n?Object(I.a)(Object(I.a)({},e),a):e}))},R="FOLLOW",Z="UNFOLLOW",J="SET-USERS",Q="COUNT-USERS",K="SET_CURRENT_PAGE",Y="TOGGLE_IS_FETCHING",q="TOGGLE_IS_FOLLOWING_IN_PROGRESS",$={users:[],pageSize:9,totalUsersCount:100,currentPage:1,isFetching:!0,followingInProgress:[]},ee=function(e){return{type:Q,count:e}},te=function(e){return{type:Y,isFetching:e}},ne=function(e,t){return{type:q,status:e,userId:t}},ae=function(){var e=Object(C.a)(N.a.mark((function e(t,n,a,r){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(ne(!0,n)),e.next=3,a(n);case 3:0===e.sent.data.resultCode&&t(r),t(ne(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(I.a)(Object(I.a)({},e),{},{users:V(e.users,"id",t.userId,{followed:!0})});case Z:return Object(I.a)(Object(I.a)({},e),{},{users:V(e.users,"id",t.userId,{followed:!1})});case J:return Object(I.a)(Object(I.a)({},e),{},{users:t.users});case Q:return Object(I.a)(Object(I.a)({},e),{},{totalUsersCount:t.count});case K:return Object(I.a)(Object(I.a)({},e),{},{currentPage:t.currentPage});case Y:return Object(I.a)(Object(I.a)({},e),{},{isFetching:t.isFetching});case q:return Object(I.a)(Object(I.a)({},e),{},{followingInProgress:t.status?[].concat(Object(A.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}},oe=n(57),se=n.n(oe),ue=function(e){return r.a.createElement("div",{className:se.a.ldsRing},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},ce=n(58),le=Object(ce.a)((function(e){return e.usersPage.users}),(function(e){return e})),ie=function(e){return e.usersPage.pageSize},fe=function(e){return e.usersPage.totalUsersCount},pe=function(e){return e.usersPage.currentPage},me=function(e){return e.usersPage.isFetching},de=function(e){return e.usersPage.followingInProgress},ge=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onPageChange=function(t){e.props.setCurrentPage(t),e.props.requestUsers(t,e.props.pageSize)},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){0==this.props.users.length&&this.props.requestUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.isFetching?r.a.createElement(ue,null):null,r.a.createElement(y,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,users:this.props.users,unfollow:this.props.unfollow,follow:this.props.follow,currentPage:this.props.currentPage,onPageChange:this.onPageChange,followingInProgress:this.props.followingInProgress,toggleFollowingProgress:this.props.toggleFollowingProgress}))}}]),n}(r.a.Component),he={follow:function(e){return function(t){ae(t,e,X.follow.bind(X),{type:R,userId:e})}},unfollow:function(e){return function(t){ae(t,e,X.unfollow.bind(X),{type:Z,userId:e})}},setUsersCount:ee,setCurrentPage:function(e){return{type:K,currentPage:e}},toggleFollowingProgress:ne,requestUsers:function(e,t){return function(){var n=Object(C.a)(N.a.mark((function n(a){var r;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(te(!0)),n.next=3,X.getUsers(e,t);case 3:r=n.sent,a(te(!1)),a((o=r.data.items,{type:J,users:o})),a(ee(r.data.totalCount));case 7:case"end":return n.stop()}var o}),n)})));return function(e){return n.apply(this,arguments)}}()}},Ee=Object(S.b)((function(e){return{users:le(e),pageSize:ie(e),totalUsersCount:fe(e),currentPage:pe(e),isFetching:me(e),followingInProgress:de(e)}}),he)(ge),be="ADD-POST",ve="SET_USER_PROFILE",_e="SET_STATUS",we="DELETE_POST",Oe={posts:[{id:1,message:"Hi, how are you?",likesCount:15},{id:2,message:"It's my first post",likesCount:25}],newPostText:"",profile:null,status:""},Pe=function(e){return{type:_e,status:e}},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be:return Object(I.a)(Object(I.a)({},e),{},{posts:[].concat(Object(A.a)(e.posts),[{id:5,message:t.newPostText,likesCount:0}])});case ve:return Object(I.a)(Object(I.a)({},e),{},{profile:t.profile});case _e:return Object(I.a)(Object(I.a)({},e),{},{status:t.status});case we:return Object(I.a)(Object(I.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!=t.postId}))});default:return e}},ye=n(20),Se=n(26),ke=n.n(Se),Ne=n(59),Ce=n.n(Ne),Ae=function(e){return r.a.createElement("div",{className:Ce.a.item},r.a.createElement("img",{src:"https://i0.wp.com/star-magazine.ru/wp-content/uploads/2019/05/12857324-6971663-Stone_sober_Ava_Max_has_revealed_that_unlike_the_Californian_pop-m-20_1556538926699-min.jpg?resize=399%2C591&ssl=1"}),e.message,r.a.createElement("div",null,r.a.createElement("span",null,"like ",e.likes)))},Ie=n(14),Fe=n(28),ze=(n(35),function(e){return r.a.createElement(ye.b,{onSubmit:function(t){e.onAddPost(t.newPostBody)},render:function(e){var t=e.handleSubmit;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",{className:ke.a.postsWrapper},r.a.createElement("button",{className:ke.a.post_button,type:"submit"},"Send"),r.a.createElement("button",{class:!0,className:ke.a.post_button,type:"button"},"add file"),r.a.createElement("div",{className:ke.a.post_area},r.a.createElement(ye.a,{name:"newPostBody",validate:Object(Ie.a)(Ie.c,Object(Ie.b)(10)),component:Fe.b,placeholder:"Enter your post"}))))}})}),xe=function(e){var t=e.posts.map((function(e){return r.a.createElement(Ae,{message:e.message,likes:e.likesCount})}));return r.a.createElement("div",null,r.a.createElement(ze,{onAddPost:function(t){e.addPost(t)}}),r.a.createElement("div",{className:ke.a.posts},t))},Me=Object(S.b)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{addPost:function(t){e(function(e){return{type:be,newPostText:e}}(t))}}}))(xe),Te=n(37),Be=n.n(Te),Ue=n(22),De=n.n(Ue),He=n(36),Le=n.n(He),Xe=(r.a.Component,function(e){var t=Object(a.useState)(!1),n=Object(b.a)(t,2),o=n[0],s=n[1],u=Object(a.useState)(e.status),c=Object(b.a)(u,2),l=c[0],i=c[1];Object(a.useEffect)((function(){i(e.status)}),[e.status]);return r.a.createElement("div",null,!o&&r.a.createElement("div",null,r.a.createElement("span",{onDoubleClick:function(){s(!0)}},e.status||"--------")),o&&r.a.createElement("div",null,r.a.createElement("input",{value:l,onChange:function(e){i(e.currentTarget.value)},autoFocus:!0,onBlur:function(){s(!1),e.updateStatus(l)}})),r.a.createElement("div",{className:Le.a.profileFooterShow}))}),We=function(e){return e.profile?r.a.createElement("div",{className:De.a.profile_wrapper},r.a.createElement("div",{className:De.a.profileBlock},r.a.createElement("div",{className:De.a.profileHeaderBlock},r.a.createElement("img",{className:De.a.profile_picture,src:e.profile.photos.large}),r.a.createElement("h3",null," ",e.profile.fullName," "),r.a.createElement("button",null,"following")),r.a.createElement("div",{className:De.a.profileBodyBlock}),r.a.createElement("div",{className:De.a.profileFooterBlock},r.a.createElement(Xe,{status:e.status,updateStatus:e.updateStatus})),r.a.createElement("div",{className:De.a.contactBlock},"Contacts",Object.entries(e.profile.contacts).map((function(e){return r.a.createElement("span",null,e[0],": ",r.a.createElement("a",{href:"//"+e[1],target:"_blank"},e[1]))}))),r.a.createElement("button",null,"Logout"))):r.a.createElement(ue,null)};window.props=[];var Ge=function(e){return r.a.createElement("div",{className:Be.a.content},r.a.createElement("div",{className:Be.a.profileInfo},r.a.createElement(We,{profile:e.profile,status:e.status,updateStatus:e.updateStatus})),r.a.createElement("div",{className:Be.a.profileContent},r.a.createElement(Me,null)))},Ve=n(19),Re=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.id),this.props.getProfile(e),this.props.getStatus(e)}},{key:"render",value:function(){return this.props.match.params.userId||this.props.isAuth?r.a.createElement(Ge,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})):r.a.createElement(g.a,{to:"/login"})}}]),n}(r.a.Component),Ze={getProfile:function(e){return function(){var t=Object(C.a)(N.a.mark((function t(n){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G.getProfile(e);case 2:a=t.sent,n((r=a.data,{type:ve,profile:r}));case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(C.a)(N.a.mark((function t(n){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G.getStatus(e);case 2:a=t.sent,n(Pe(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(C.a)(N.a.mark((function t(n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(Pe(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},Je=Object(Ve.d)(Object(S.b)((function(e){return{profile:e.profilePage.profile,id:e.auth.id,status:e.profilePage.status,isAuth:e.auth.isAuth}}),Ze),g.f)(Re),Qe=n(27),Ke=n.n(Qe),Ye=function(e){return r.a.createElement("header",{className:Ke.a.header},r.a.createElement("div",{className:Ke.a.header_link},r.a.createElement(f.b,{to:"/profile",activeClassName:Ke.a.active},"Social Network")),r.a.createElement("div",{className:Ke.a.header_features},"Header features"),r.a.createElement("div",{className:Ke.a.loginBlock},e.isAuth?r.a.createElement("div",null,e.login,r.a.createElement("button",{onClick:e.authLogoutThunk},"Logout")):r.a.createElement(f.b,{to:"/login"},"Login")))},qe=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(Ye,this.props)}}]),n}(r.a.Component),$e={authLogoutThunk:function(){return function(){var e=Object(C.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.authLogout();case 2:0===e.sent.data.resultCode&&t(B(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},et=Object(S.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),$e)(qe),tt=function(e){var t=function(t){var n=t.name;return r.a.createElement(ye.a,{name:n,subscription:{touched:!0,error:!0},render:function(t){var n=t.meta,a=n.touched,o=n.error,s=void 0===o?e.authErrorMessage:o;return a&&s?r.a.createElement("span",null,s):null}})};return r.a.createElement("form",{onSubmit:e.onSubmit},r.a.createElement("div",null,r.a.createElement(ye.a,{onClick:e.authFailed(null),name:"login",placeholder:"login",validate:Object(Ie.a)(Ie.c,Object(Ie.b)(30)),component:Fe.a,type:"text"})),r.a.createElement("div",null,r.a.createElement(ye.a,{onClick:e.authFailed(null),name:"password",placeholder:"password",validate:Object(Ie.a)(Ie.c,Object(Ie.b)(15)),component:Fe.a,type:"text"})),r.a.createElement("div",null,r.a.createElement(ye.a,{onClick:e.authFailed(null),name:"checkbox",component:"input",type:"checkbox"})," remember me"),r.a.createElement(t,{name:"login"}),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"Login")),r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:function(){return e.resetForm()}},"Reset form")))},nt=function(e){return r.a.createElement(ye.b,{onSubmit:function(t){e.authLoginThunk(t.login,t.password)}},(function(t){var n=t.handleSubmit,a=t.form;return r.a.createElement(tt,{authFailed:e.authFailed,authErrorMessage:e.authErrorMessage,onSubmit:n,resetForm:a.reset})}))},at={authLoginThunk:function(e,t){return function(){var n=Object(C.a)(N.a.mark((function n(a){var r;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,W.authLogin(e,t);case 2:0!==(r=n.sent).data.resultCode&&a(U(r.messages[0])),r&&0===r.data.resultCode&&a(D());case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},authFailed:U},rt=Object(S.b)((function(e){return{isAuth:e.auth.isAuth,authErrorMessage:e.auth.authErrorMessage}}),at)((function(e){return e.isAuth?r.a.createElement(g.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement("h1",null,"LOGIN"),r.a.createElement(nt,{authFailed:e.authFailed,authErrorMessage:e.authErrorMessage,authLoginThunk:e.authLoginThunk}))})),ot="INITIALIZED_SUCCESS",st={initialized:!1,id:null,login:null,email:null,isAuth:!1,authErrorMessage:null},ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ot:return Object(I.a)(Object(I.a)({},e),{},{initialized:!0});default:return e}},ct=n(54),lt=n(60),it=Object(Ve.c)({profilePage:je,dialogsPage:ct.b,usersPage:re,auth:H,app:ut}),ft=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ve.d,pt=Object(Ve.e)(it,ft(Object(Ve.a)(lt.a)));window.store=pt;var mt=pt,dt=r.a.lazy((function(){return n.e(3).then(n.bind(null,98))})),gt=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(et,null),r.a.createElement(d,null),"learn react",r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(a.Suspense,{fallback:r.a.createElement(ue,null)},r.a.createElement(g.b,{path:"/login",render:function(){return r.a.createElement(rt,null)}}),r.a.createElement(g.b,{path:"/dialogs",render:function(){return r.a.createElement(dt,null)}}),r.a.createElement(g.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(Je,null)}}),r.a.createElement(g.b,{path:"/news",render:function(){return r.a.createElement(h,null)}}),r.a.createElement(g.b,{path:"/music",render:function(){return r.a.createElement(E,null)}}),r.a.createElement(g.b,{path:"/users",render:function(){return r.a.createElement(Ee,null)}}))))}}]),n}(r.a.Component),ht=Object(S.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(){var e=Object(C.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(D());case 2:t({type:ot});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(gt),Et=function(){return r.a.createElement(f.a,{basename:"/demo-project"},r.a.createElement(S.a,{store:mt},r.a.createElement(ht,null)))};s.a.render(r.a.createElement(Et,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[94,1,2]]]);
//# sourceMappingURL=main.bf93d102.chunk.js.map